<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Cartas para Paula</title>

  <!-- Fuentes -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link 
    href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;400;700&family=Caveat&display=swap" 
    rel="stylesheet"
  >
  
  <!-- Particles.js CDN -->
  <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
  
  <!-- Firebase CDN -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
  
  <style>
    :root {
      --color1: #E1D9D3; /* Fondo suave */
      --color2: #E4BEAF;
      --color3: #B5E3AB;
      --color4: #E8BAD2;
      --color5: #62CBB8;
      --color6: #FBFEFE; /* Casi blanco */

      /* Sobre moderno */
      --bg-envelope-color: #f8f9fa;
      --envelope-tab: #e9ecef;
      --envelope-cover: #f1f3f4;
      --envelope-accent: #dee2e6;
      --envelope-shadow: rgba(0, 0, 0, 0.08);
      --envelope-border: #e9ecef;
      --shadow-color: rgba(0, 0, 0, 0.1);
      --heart-color: #ff6b6b;
      --primary: white;
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    /* Permitimos scroll vertical si el contenido es alto */
    body {
      font-family: 'Poppins', sans-serif;
      background: var(--color1);
      overflow-x: hidden; /* Ocultamos solo el scroll horizontal */
    }

    /* Fondo carrusel de IM√ÅGENES */
    .background-carousel {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      z-index: -1;
      overflow: hidden;
    }
    .background-carousel img {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      object-fit: cover;
      opacity: 0;
      transition: opacity 3s ease-in-out, transform 10s ease-in-out;
    }
    .background-carousel img.active {
      opacity: 1;
      transform: scale(1.1);
    }

    /* Contenedor principal (ocupa al menos la altura de la ventana) */
    .outer-wrapper {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      width: 100%;
      min-height: 100vh;
      position: relative;
    }

    /* Carrusel (1 carta por pantalla): overflow hidden SOLO AQU√ç */
    .carousel {
      display: flex;
      justify-content: flex-start;
      width: 90%;
      max-width: 700px;
      margin: 2rem auto;        /* algo de margen vertical */
      
      position: relative;
      transition: transform 0.5s ease;
    }

    /* Cada SLIDE ocupa 100% del ancho del .carousel */
    .slide {
      min-width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 2rem;
      text-align: center;
      background-color: rgba(255, 255, 255, 0.2);
      border-radius: 10px;
      box-shadow: 0 0 20px rgba(0,0,0,0.1);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      margin: 3%;
    }
    .slide h1 {
      font-family: 'Great Vibes', cursive;
      font-size: 2.5rem;
      margin-bottom: 1.5rem;
    }

    /* Botones Anterior / Siguiente */
    .carousel-controls {
      display: flex;
      gap: 1rem;
      margin-bottom: 2rem; /* separarlos un poco del carrusel */
    }
    .carousel-controls button {
      background-color: var(--color5);
      color: #fff;
      border: none;
      padding: 0.8rem 1.5rem;
      border-radius: 5px;
      font-size: 1rem;
      cursor: pointer;
      font-weight: bold;
      transition: background-color 0.3s;
    }
    .carousel-controls button:hover {
      background-color: var(--color4);
    }

    /* SOBRE ANIMADO CON ESTILO MEJORADO */
    .envelope-wrapper {
      display: inline-block; 
      background: transparent;
      box-shadow: none;
    }
    
    .envelope {
      position: relative;
      width: 350px;
      height: 250px;
      border-radius: 8px;
      box-shadow: 
        0 15px 35px rgba(0, 0, 0, 0.1),
        0 5px 15px rgba(0, 0, 0, 0.05);
      transition: all 0.3s ease;
    }
    
    .envelope:hover {
      transform: translateY(-3px);
      box-shadow: 
        0 20px 40px rgba(0, 0, 0, 0.15),
        0 8px 20px rgba(0, 0, 0, 0.08);
    }
    
    /* Solapa triangular del sobre */
    .envelope::before {
      content: "";
      position: absolute;
      top: 0;
      right: 0;
      z-index: 2;
      border-top: 130px solid var(--envelope-tab);
      border-right: 175px solid transparent;
      border-left: 175px solid transparent;
      transform-origin: top;
      transition: all 0.5s ease-in-out 0.7s;
    }
    
    /* Cuerpo del sobre */
    .envelope::after {
      content: "";
      position: absolute;
      z-index: 2;
      right: 0;
      width: 0;
      height: 0;
      border-top: 130px solid transparent;
      border-right: 175px solid var(--envelope-cover);
      border-bottom: 120px solid var(--envelope-cover);
      border-left: 175px solid var(--envelope-cover);
    }

    .letter {
      position: absolute;
      right: 20%;
      bottom: 0;
      width: 54%;
      height: 80%;
      background: var(--primary);
      text-align: center;
      transition: all 1s ease-in-out;
      box-shadow: 0 4px 15px var(--shadow-color);
      padding: 20px 10px;
      border-radius: 4px;
    }
    
    .letter .text {
      font-family: "Caveat", cursive;
      color: #495057;
      text-align: justify;
      font-size: 11px;
      line-height: 1.4;
    }

    .heart {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 18px; 
      height: 18px;
      background: var(--heart-color);
      z-index: 4;
      transform: translate(-50%, -50%) rotate(45deg);
      transition: transform 0.5s ease-in-out 1s;
      box-shadow: 0 2px 8px var(--shadow-color);
      cursor: pointer;
    }
    
    .heart:hover {
      transform: translate(-50%, -50%) rotate(45deg) scale(1.1);
    }
    
    .heart:before, 
    .heart:after {
      content: "";
      position: absolute;
      width: 18px;
      height: 18px;
      background-color: var(--heart-color);
      border-radius: 50%;
    }
    
    .heart:before {
      top: -9px; 
      right: 0;
    }
    
    .heart:after {
      right: 9px;
    }

    /* Clases para abrir/cerrar sobre */
    .flap > .envelope::before {
      transform: rotateX(180deg);
      z-index: 0;
    }
    
    .flap > .envelope > .letter {
      bottom: 100px;
      transform: scale(1.5);
      transition-delay: 1s;
    }
    
    .flap > .heart {
      transform: translate(-50%, -50%) rotate(90deg);
      transition-delay: 0.4s;
    }

    /* MODAL PARA CONTRASE√ëA */
    .modal-overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      background: rgba(0,0,0,0.6);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 999;
    }
    .modal-overlay.active {
      display: flex;
    }
    .modal-content {
      background: #fff;
      padding: 2rem;
      border-radius: 10px;
      text-align: center;
      max-width: 400px;
      width: 90%;
      box-shadow: 0 0 20px rgba(0,0,0,0.4);
    }
    .modal-content h3 {
      font-family: 'Poppins', sans-serif;
      font-size: 1.5rem;
      margin-bottom: 1rem;
    }
    .modal-content input[type="password"] {
      width: 80%;
      padding: 0.5rem;
      margin-bottom: 1rem;
      border: 2px solid #ccc;
      border-radius: 5px;
    }
    .modal-content button {
      background-color: var(--color5);
      color: #fff;
      border: none;
      padding: 0.8rem 2rem;
      border-radius: 5px;
      font-size: 1rem;
      cursor: pointer;
      font-weight: bold;
      transition: background-color 0.3s;
    }
    .modal-content button:hover {
      background-color: var(--color4);
    }
    .error-message {
      color: red;
      margin: 0.5rem 0;
      font-size: 0.9rem;
    }

    /* MODAL PARA MOSTRAR CARTA REAL */
    .modal-card-overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      background: rgba(0,0,0,0.7);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    .modal-card-overlay.active {
      display: flex;
    }
    .modal-card-content {
      background: #fff;
      padding: 1.5rem;
      max-height: 80vh;
      overflow-y: auto;
      border-radius: 10px;
      text-align: left;
      max-width: 900px;
      width: 90%;
      box-shadow: 0 0 20px rgba(0,0,0,0.4);
    }
    .modal-card-content h2 {
      font-family: "Great Vibes", cursive;
      font-size: 2rem;
      margin-bottom: 1rem;
      text-align: center;
    }
    .modal-card-content p {
      margin-bottom: 1rem;
      font-family: "Caveat", cursive;
      font-size: 1.3rem;
      line-height: 1.6;
      white-space: pre-line;
    }
    .close-card {
      display: inline-block;
      margin-top: 1rem;
      background-color: var(--color5);
      color: #fff;
      border: none;
      padding: 0.5rem 1.5rem;
      border-radius: 5px;
      font-size: 1rem;
      cursor: pointer;
      font-weight: bold;
      transition: background-color 0.3s;
    }
    .close-card:hover {
      background-color: var(--color4);
    }

    /* Efecto de part√≠culas para carta especial */
    .slide.special {
      position: relative;
      overflow: visible;
    }
    
    .particles-container {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 60%;
      height: 60%;
      transform: translate(-50%, -50%);
      pointer-events: none;
      z-index: 1;
      border-radius: 10px;
      overflow: visible;
    }
    
    .slide.special .envelope-wrapper {
      position: relative;
      z-index: 2;
      animation: special-glow 2s ease-in-out infinite alternate;
    }
    
    @keyframes special-glow {
      0% {
        filter: drop-shadow(0 0 5px rgba(255, 75, 92, 0.5));
      }
      100% {
        filter: drop-shadow(0 0 20px rgba(255, 75, 92, 0.8));
      }
    }
    
    .slide.special::before {
      content: "¬°NUEVA!";
      position: absolute;
      top: -10px;
      right: -10px;
      background: linear-gradient(45deg, #ff4b5c, #ff6b7d);
      color: white;
      padding: 5px 10px;
      border-radius: 15px;
      font-size: 0.8rem;
      font-weight: bold;
      z-index: 3;
      animation: bounce 1s ease-in-out infinite;
    }
    
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-5px); }
    }

    /* CONTADOR "ME HE ACORDADO DE TI" */
    .memory-counter {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(255, 255, 255, 0.95);
      border-radius: 15px;
      padding: 15px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      min-width: 200px;
      text-align: center;
      z-index: 100;
      border: 2px solid rgba(255, 255, 255, 0.3);
      transition: all 0.3s ease;
    }
    
    .memory-counter:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 35px rgba(0, 0, 0, 0.2);
    }
    
    .memory-counter h3 {
      font-family: 'Great Vibes', cursive;
      font-size: 1.2rem;
      margin: 0 0 10px 0;
      color: var(--color5);
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
    }
    
    .counter-buttons {
      display: flex;
      gap: 10px;
      margin-bottom: 15px;
    }
    
    .counter-btn {
      flex: 1;
      background: linear-gradient(45deg, var(--color5), var(--color4));
      color: white;
      border: none;
      padding: 12px 8px;
      border-radius: 15px;
      font-size: 0.9rem;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      min-height: 85px;
    }
    
    .counter-btn img {
      width: 45px;
      height: 45px;
      border-radius: 50%;
      border: 3px solid rgba(255, 255, 255, 0.9);
      object-fit: cover;
      transition: all 0.3s ease;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
    }
    
    .counter-btn:hover img {
      transform: scale(1.15);
      border-color: white;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    }
    
    .counter-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    }
    
    .counter-btn:active {
      transform: translateY(0);
    }
    
    .counter-btn.pablo {
      background: linear-gradient(45deg, #4ECDC4, #44A08D);
    }
    
    .counter-btn.paula {
      background: linear-gradient(45deg, #FF6B9D, #C44569);
    }
    
    .counter-display {
      display: flex;
      justify-content: space-between;
      font-family: 'Poppins', sans-serif;
      font-size: 0.85rem;
      color: #333;
    }
    
    .score {
      font-weight: bold;
      color: var(--color5);
    }
    
    /* Animaci√≥n de confeti */
    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      background: #f39c12;
      animation: confetti-fall 3s linear forwards;
      pointer-events: none;
      z-index: 1000;
    }
    
    @keyframes confetti-fall {
      0% {
        transform: translateY(-100vh) rotate(0deg);
        opacity: 1;
      }
      100% {
        transform: translateY(100vh) rotate(720deg);
        opacity: 0;
      }
    }
    
    .pulse {
      animation: pulse-effect 0.6s ease-out;
    }
    
    @keyframes pulse-effect {
      0% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.1);
      }
      100% {
        transform: scale(1);
      }
    }

    /* Ajustes para m√≥viles */
    @media (max-width: 600px) {
      .memory-counter {
        top: 10px;
        right: 10px;
        left: 10px;
        min-width: auto;
        padding: 12px;
      }
      
      .memory-counter h3 {
        font-size: 1rem;
      }
      
      .counter-btn {
        padding: 8px 6px;
        font-size: 0.8rem;
        min-height: 65px;
        gap: 6px;
      }
      
      .counter-btn img {
        width: 32px;
        height: 32px;
      }
      
      .counter-display {
        font-size: 0.75rem;
      }
      .carousel {
        width: 95%;
        margin: 1rem auto;
        margin-top: 80px; /* Espacio para el contador en m√≥vil */
      }
      .slide {
        padding: 1rem;
      }
      .envelope {
        width: 280px;
        height: 200px;
        border-radius: 6px;
      }
      .envelope::before {
        border-top: 100px solid var(--envelope-tab);
        border-right: 140px solid transparent;
        border-left: 140px solid transparent;
      }
      .envelope::after {
        border-top: 100px solid transparent;
        border-right: 140px solid var(--envelope-cover);
        border-bottom: 90px solid var(--envelope-cover);
        border-left: 140px solid var(--envelope-cover);
      }
      .letter {
        padding: 15px 8px;
      }
      .heart {
        width: 16px;
        height: 16px;
      }
      .heart:before, 
      .heart:after {
        width: 16px;
        height: 16px;
      }
      .heart:before {
        top: -8px;
      }
      .heart:after {
        right: 8px;
      }
      .slide h1 {
        font-size: 2rem;
      }
    }
  </style>
</head>
<body>
  <!-- Fondo del carrusel de im√°genes -->
  <div class="background-carousel" id="backgroundCarousel"></div>

  <!-- Contador "Me he acordado de ti" -->
  <div class="memory-counter" id="memoryCounter">
    <h3>¬øMe has echado de menos? üíï</h3>
    <div class="counter-buttons">
      <button class="counter-btn pablo" onclick="incrementCounter('pablo')">
        <img src="assets/images/pabloFoto.webp" alt="Pablo">
        Pablo
      </button>
      <button class="counter-btn paula" onclick="incrementCounter('paula')">
        <img src="assets/images/paulaFoto.webp" alt="Paula">
        Paula
      </button>
    </div>
    <div class="counter-display">
      <span>Pablo: <span class="score" id="pabloScore">0</span></span>
      <span>Paula: <span class="score" id="paulaScore">0</span></span>
    </div>
  </div>

  <!-- Contenedor principal -->
  <div class="outer-wrapper">
    <!-- Carrusel de CARTAS -->
    <div class="carousel" id="carousel"></div>

    <!-- Botones de navegaci√≥n del carrusel -->
    <div class="carousel-controls">
      <button id="prevBtn">Anterior</button>
      <button id="nextBtn">Siguiente</button>
    </div>
  </div>

  <!-- Modal Overlay para pedir contrase√±a -->
  <div class="modal-overlay" id="passwordModal">
    <div class="modal-content">
      <h3>Protegido</h3>
      <p>Introduce la contrase√±a para ver la carta:</p>
    <p id="passwordHint" style="font-style: italic; color: #888; margin-bottom: 1rem;"></p>
      <input type="password" id="passwordInput" placeholder="Contrase√±a">
      <div class="error-message" id="errorMessage"></div>
      <button id="checkPasswordBtn">Entrar</button>
    </div>
  </div>

  <!-- Modal para mostrar la carta real -->
  <div class="modal-card-overlay" id="cardModal">
    <div class="modal-card-content">
      <h2 id="cardTitle"></h2>
      <p id="cardText"></p>
      <button class="close-card" id="closeCardBtn">Cerrar</button>
    </div>
  </div>

  <!-- Script principal -->
  <script>
    // =============================
    // 1) DATOS DE LAS CARTAS
    // =============================
    const lettersData = [
      {
        title: "Dia a Dia",
        text: `Mis cosas: \nHola! Espero que todo vaya genial, que estes recuper√°ndote, que estes san√°ndote que poco a poco la vida te este yendo a mejor, aunque siempre intento saber algo sobre ti, de como estas, que esta pasando nuevo en tu vida o que nuevos retos o ambiciones tienes, no tengo mucha informaci√≥n, mas all√° de lo que me cuentan, y bueno, eso ahora mismo me esta matando‚Ä¶ Por eso creo que lo mejor para calmar este sentimiento horrible que tengo por dentro, es escribirte, ya esta, escribirte, como si te tuviese aqu√≠ delante, hablar contigo, sin tener una respuesta, pero para mi ya es algo, imaginarte simplemente escuch√°ndome. 
              21-04:
              Hola, he vuelto de Semana Santa, la he pasado en Torrevieja, la verdad que estuve agusto, pero se aleja mucho de estar bien, me rei?, si, sal√≠? Tambi√©n, pero no me vuelvo con la sensaci√≥n de disfrutar, al reves me vuelvo con una sensaci√≥n agridulce, con un vacio, como que no me llena, en fin, quiz√°s fue lo que tanto demandaba y he descubierto que eso no me llena.

              28-04:
              Bueno bueno bueno, la que me est√°n liando con el diente, llevo ya un par de veces para que me arreglen el diente pocho ese que tenia, y cada vez que voy al dentista me tienen que quitar el que tengo, y es *MUY* desagradable, pues de momento he venido ya dos veces y ninguna han acertado con el color, me han puesto un diente de mentira mas falso que un billete de 2‚Ç¨, en fin, a ver si para el 7 mayo atinan con el diente.
              
              5-05:
              Viaje a Cordoba, despedida de Soltero de Javi, todo apunta a viajazo, espero a que me recoja Javi Alonso con Luis y Alberto y de camino a Atocha, me doy cuenta que no llevo la cartera, y no se si me van a dejar pasar (otra patinada de las mias) finalmente me salvo otra vez el culo y no miran DNI. En el trayecto intento no pensar, pero hay un sentimiento que finalmente hable con Javi Alonso y Javi Martinez, todo el grupo, todo el viaje, mire a donde mire‚Ä¶. Me recuerda a ti. Intento estar bien, desconectar, pero no sales de mi cabeza (como si antes ya no estuviese), quiz√°s hable mas de ti de lo que me hubiese gustado, quiz√°s pregunt√© mas por ti de lo que hubiese querido, quiz√°s pens√© en ti mas de lo que necesitaba. Vaya tres d√≠as, distintos, raros, me lo pas√© bien, pero sigue sin ser mi lugar.
              
              07-05: 
              Me cago en todo, otra vez el diente, me dec√≠an que esta vez si que era la correcta, he ido, me han quitado el diente (pr√°cticamente te lo rompen) y‚Ä¶‚Ä¶ SORPRESA! Sigue sin ser el color exacto, me quiero pegar un tiro en la sien, me han dicho que para la siguiente lo clavan (no), pero que para asegurarme mejor, que me vaya yo directamente al laboratorio y que me vean exactamente el color all√≠ in situ. Otra vuelta mas‚Ä¶ Ya te contare el 15 de Mayo que es fiesta en Madrid.
              PD: En estas ocasiones tambi√©n te echo de menos
              
              13-05: 
              Hola!! Espero que estes genial! He visto que te has apuntado a Crossfit con Roci, no sabes lo contento que me he puesto, solamente de verte, de saber de ti, de saber que estas progresando, que estas mejorando, aunque solamente sea en las fotos. Se que tienes un objetivo claro a nivel f√≠sico, y veo que lo estas cumpliendo, cada vez te veo mejor en las fotos.
              
              13-05 (noche):
              He visto hoy en Tik-tok que has compartido un post que bueno‚Ä¶ espero que no vaya por mi, es sobre Joe (You) no se a lo que te puedes referir, en fin‚Ä¶ me he comenzado a ver la serie, los dos primero episodios muy guays ;)
              
              15-05:
              Finalmente me han puesto el diente finalmente, estoy contento, creo que se acabaron tantas vueltas, por otro lado he retomado la Bachata, y me he apuntado a Salsa tambien, con la esperanza de poder ense√±arte algun dia, de poder volver a tomar tu mano, mirarte a los ojos y perderme una vez mas, te echo mucho de menos Paula, intento cambiar mis dias para ver si consigo evadirme de ti, de tu presencia en mi cabeza, pero estas siempre ahi, en una esquina, sin hacer mucho ruido pero presente siempre. Ojala pudieses irte a dormir conmigo esta noche, como lo echo de menos.
              
              17-05:
              Me ha tocado unos pases para ir a Desalia, WOW! Nunca me toca nada y sin quererlo, pues toma, a Desalia que me voy, ojala poder compartirlo contigo, ojala que te pudieses venir conmigo, pero bueno ahora mismo mis objetivos y aspiraciones estan enfocados en otro lado, hoy tambien que he jugado al Padel alli en Alcorc√≥n, un poco a la desesperada me he pasado por tu calle (se que suena un poco creepy), con la esperanza de verte, aunque sea a traves de tu ventana.... esto mejor lo dejamos entre tu y yo jajaja.... de esperanzas se vive!
              Tambien me he propuesto ( y de momento lo estoy siguiendo) un plan de comidas algo mas regular, estoy cansado de estar una y otra vez sobreviviendo de lo que tengo en casa del mismo dia o hacer las comprar para 1 o 2 dias. Pasito a pasito voy reordenando mi vida, estoy contento con estos peque√±os cambios. Te seguire contando mas adelante!! :)  
              
              21-05:
              Salimos para Desalia, parece que es broma que estoy de camino en autobus a Tarragona cuando la semana pasada no tenia ni idea de que iba a hacer esta semana. Todo parece que pinta mucho mas bestial de lo que me imagino, veremos que dias pas√≥... Hoy me toca todo el dia en el bus practicamente (8h) jajaj.
              
              22-05:
              Dios santo, esto no es real, vaya experiencia mas alucinante, es cierto que estoy aqui por una pu√±etera coincidencia del destino... y todo por saber algo de informatica y ganar a un juego de matar patos.... ya ayer fue espectacular, el Hotel esta dentro de el propio parque de atracciones PortAventura, esta todo el hotel customizado para el evento, numero de habitaciones, habitaciones, ascensores, halls, pasillos, zonas comunes, restaurantes etc... La de pasta que hay aqui metida... Tenemos varias fiesta tematicas, ayer fue la que se llama "Flow2000", y estuve recordando como
              te quedaria una sudadera de tu padre antigua (de esas que te encantan y sueles usar a diario) y unos vaqueros anchos, ademas de complementos jajajja, unos pendiente grandotes, unas zapatillas de epoca etc... La gente aqui es muy maja, tu aqui hubieses triunfado con en don de gentes que tienes... y con un par de copas mas... si en Bruselas hiciste bailar el Himno del PP a unos guiris, aqui haces bailar el himno de Espa√±a a unos independentistas... Ma√±ana te contare que tal hoy, que hoy es el Bling Pink (Fiesta de rosa).

              23-05:
              Bueno, que ayer no te lo cont√©, aqui hay MOGOLLON de influencers, y entre ellos esta Kiko Rivera, Sandra Barneda, Illojuan, Ibelky etc... pero el que mas me hizo ilusi√≥n fue Peldanyos.... BUMMM! Un recuerdo directo a ti!! Estuve hablando con el, mucho la verdad, le dije que tenia la salsa de Llave Acida (no le cont√© que me parecia una puta mierda...) me estuvo ense√±ando en su movil que iba a sacar un nuevo set de Salsas... una de manzana y otra como de mango, las tenia alli encima. Ese momento que estuve con el me recordo mucho a ti, sigues estando en mi cabeza incluso cuando desconecto de todo.
              Bling Pink!!! Fiesta de rosa!!!, actua Mar Lucas segun nos han dicho, la experiencia esta siendo brutal, para volver a repetirla el a√±o que viene, voy a poner todo de mi parte para que sea contigo, para volver juntos, pero antes de la fiesta.... toca ir a PortAventura, creo que mi cara ya les ha dicho a los de por aqui que no se preocupen por sus mochilas por que se las voy a cuidar muy bien... ya sabes que las atracciones y yo no somos muy amigos... 

              24-05:
              Ayer la noche fue espectacular pero algo mas flojita que la primera noche... Lo habras visto por instagram que subi un par de cositas (no soy mucho de usarlo), pero el par de cositas que sub√≠ iban con truco, si escuchas las canciones, son dos que me recuerdan a ti! Una de Hombres G y otra de Man√°! Espero que tu por tu parte te lo estes pasando tambien bien, estes disfrutando, sonriendo, sanando y espero que en algun momento... acordandote de mi, por que yo si que lo estoy haciendo y mucho :)
              Noche Ibicenca hoy! Actua Lerica y Abraham Mateo, voy ultra guapo! Es probable que use esta ropa (o almenos esta camisa) para nuestro dia 5! Quiero que me veas espectacular! Pero antes de la fiesta ibicenca, tenemos fiesta en la piscina, esto esta siendo una pasada... Aunque me estoy empezando a encontrar algo mal, tengo mucha tos... de momento lo aguanto.
              
              25-05:
              Vaya noche la de ayer! Fue con diferencia la mejor de todas, y eso que el liston estaba muy alto, estoy agotadisimo, muerto!! Fijate que estoy hasta con ganas de irme a casa ya, hoy nos queda la ultima fiesta tematica, Parkineo, todo techno, a saber que tienen preparado...

              26-05:
              Ya camino a casa! Vuelvo algo malo, tengo tos y algo de dolor de garganta, necesito recuperarme que ma√±ana vuelta al trabajo, y no me veo con nada de ganas de empezar... hoy dia de autobus total jajaja. Te echo de menos.

              28-05:
              Pues me acaban de dar un notici√≥n!!!! La verdad que no te he llegado a llamar pues por que quiero respetarte, respetar lo que hablamos, pero te lo cuento por aqui por que estoy super ilusionado.... ME HAN ASCENDIDO! Me lo acaban de decir hace 15 min y lo primero que he hecho ha sido venir aqui a contartelo, por lo que si, eres la primera en enterarte!! ajajajaj Si todo va bien, me encantaria invitarte como siempre, a celebrarlo juntos, espero que tu tambien este teniendo buenas noticias, que te sientas agusto, feliz, valorada en tu trabajo...
              Por otro lado... te tengo que contar que me he apuntado a Salsa y a Bachata aqui al ladito de casa, estuve viendo que tambien me puede ayudar a distraerme, reflexionar, reconstruirme el hacer este tipo de actividades solo. Me da clase Mica y Fran!! Me encantaria poder retomarlo contigo y que te pudieses unir a estas clases conmigo, como echo de menos bailar contigo! que feliz era y que poco lo valoraba, espero que no sea tarde...
              Bueno, me voy a contarle esta noticia a mis padres y a mi abuela ajaajaja. Nos vemos en la siguiente!!

              29-05:
              Pues nada, hoy en urgencias, he empeorado bastante de la tos, la garganta y el dolor de cabeza, ahora tengo fiebre, estoy con 37.8 y subiendo, he pasado la noche solo y he tenido que llamar a mis padres por la ma√±ana para decirles que habia empeorado, creo que me vuelvo a casa de mis padres por unos dias hasta que mejore....

              02-06:
              Uff ha pasado tiempo ehh... he estado bastante jodido, parece que estoy remontando ya, tuve 38.9 de fiebre, he estado casi 5 dias sin comer, he tenido que pedir la baja laboral, solo tomando liquidos (he perdido 3KG... me rio de la dieta del cucurucho) y me han salido mogollon de llagas por la boca, me escribio Javi antes de ayer para ir a la fiesta de la Pedida que habian montado Nieves y el, por la ma√±ana que me encontraba medio bien y pensaba que ya estaba recuperado le dije que si!! que me hacia mucha ilusion verles, despues empeore muchisimo por la tarde que no pude moverme de la cama... por lo que me fue imposible ir... y voy y me entero al dia siguiente que has ido tu... y eso Paula... me pico como si me hubiesen metido un dedo por el culo, con las ganas que tengo de verte, me hubiese encantado coincidir contigo....
              Nose si por tu parte te hubiese gustado o no, pero a mi me hubiese encantado verte, saber de ti, aunque ya solo me queda esperar hasta el dia 5 de Julio, que la fecha se me esta acercando cada vez mas... y tengo una mezcla entre miedo y ganas. Te vi genial en las fotos, estabas guapisima, brillabas y como no, siempre con tu sonrisa! 
              Tambien he visto que tu primo Oscar se ha casado, cuanto me alegro, no sabes lo feliz que me hizo veros a todos, tenia un sentimiento agridulce por dentro, te mentiria si no te digo que he visto esos video 10.000 veces, una y otra y otra vez. Tengo un hueco vacio por dentro, se que al final estamos aqui ambos por mi culpa, y tengo que ser responsable por eso... Tambien mentiria si no te digo que te vi en los video con ese vestido morado, ese recogido, esos accesorios dorados, WOW!! Estabas espectacular Paula, se me caia la baba desde la cama mientras lo veia... hoy estoy algo mejor, creo que ya me daran el alta y podre volver a trabajar. Te echo de menos!

              09-06:
              Buenos dias!! Espero que tengas un buen dia! Ayer vi que fuistes con Roci a un festi, Despistaos, Pignoise etc... que locura!! Espero que lo disfrutases muchiiisimo! Otra puta historia que me habre visto como 1.000.000 de veces... Estuve la semana pasada en la Psicologa, es cierto que este mes he vuelto a ir, de cara a preparar el volver a verte, como manejar esos sentimientos y sensaciones. Sal√≠ algo triston la verdad, me dijo que si por algun casual volviesemos a estar juntos, me comenta que seria dificil, pero no imposible, y es a eso donde yo me agarro, confio mucho en mi, confio mucho en nosotros, me coment√≥ que debemos estar seguros ambos, de pedir ayuda externa y volver a empezar realmente de 0. 
              Aunque yo ya se que tu no eres la misma, ni yo soy el mismo, darnos la oportunidad de conocernos de 0, y descubrir si esas personas en las que nos hemos convertido realmente pueden construir de nuevo algo solido, algo sano, algo bonito, algo sincero, y no nos quedemos con lo que ya tenemos. Yo prometo poner todo de mi parte, he recapacitado muchisimo en este tiempo, he valorado realmente lo que tenia antes, lo que nos causaba problemas desde mi parte y lo que realmente quiero, en este tiempo he visto ciertas cosas que me cuesta asumirte, y entre ellas, la que mas me duele asumirte y decirte que tenias raz√≥n era sobre Juanlu... el es mi amigo, pero como tu me decias, no es tan amigo como me pensaba.
              En fin... soy humano, he tenido que esperar a darme cuenta de las cosas por mi mismo, y como tambien soy humano, tambien soy capaz de asumirte que yo quizas no estaba tan en lo correcto, y que tu quizas no estabas tan equivocada. 
              Con respecto al los entrenamientos de por las tardes, pues me gustaria mantenerlos, pero estoy viendo que ahora tal y como te dije, Marcos esta viajando mucho, y estoy perdiendo un poco la continuidad, de ahi que este valorando quizas en apuntarme a un gimnasio por mi cuenta, incluso ir juntos si se diese asi... en fin, ya ver√© lo que hago jajajaj
              Por cierto!! el dia 22 de junio me han liado para bailar en la exhibici√≥n de Salsa/Bachata que hacen anualmente las escuelas, este a√±o me tocara bailar solo, no me refiero sin pareja, me refiero sin ti, y aunque lo haga solo, tu estaras en mi cabeza en cada uno de los pasos que d√©, y desear√© que el proximo podamos retomarlo juntos... En fin, estoy cagado, tengo solo 15 dias para aprenderme la coreo de Bachata y de Salsa, la de Bachata ya la tengo medio controlada, pero la de Salsa..... ni de co√±isima, veremos la juja que monto ese dia JAJAJAJ.

              13-06:
              Buenisimos diass!!! Espero que hayas tenido una buena semana!! Nose si en estos dias te habra llegado un paquete a tu casa, a tu nombre... cagada mia, una mas AJAJAJ, pedi un par de cosas por Aliexpress y se me olvido que estaba tu casa y tu nombre como envio por defecto, y cuando me quise dar cuenta... ya era muy tarde, lo siento mucho, lo he hablado con mi madre y con Irene, no sabia si escribirte o no, finalmente por no molestarte y respetar el contacto 0 que me pediste, he decidido darlo por "perdido" y si por algun casual has caido en que la pude haber liado... pues ya me lo daras JAJAJJJ.
              Tambien he pedido otro que va a tu casa pero este si que me ha dado tiempo a cambiarlo y recogerlo en un punto de recogida... Bueno un tantito mas para la porteria de cagadas que tengo! :D. No me enrollo mas, por mi parte la semana muy tranquilita, mucha salsa y mucha bachata que es en lo que se basan mis dias ultimamente de cara al festival JAJAJJ. Espero que te vaya todo genial! Te echo de menos!

              17-06:
              Buenisimoss dias!! Ya se acerca el dia 5 de Junio, he supuesto que sobre estas fechas o esta semana estaras por Calpe, espero que bien, espero que disfrutando, yo me acuerdo mucho de ti, he estado en la psicologa de nuevo, hablando de ti de nuevo, me dice que esta contenta conmigo, que tengo bastante coherencia en lo que digo, que tengo bien puesto el 'foco' como ella dice y que parece que he salido de esas crisis personal que tuve, es cierto que no sabia ni donde me metia...jajaja, tengo como deberes que hacer , distintas preguntas que tengo que dar respuesta, como las siguientes:
              - Por que piensas en Paula y no en otras personas cuando estas solo o en los ratos libres?
              - Que emociones te mueve Paula? (Usar Rueda de las Emociones)
              - Que me atrae de lo conocido?
              Bueno esto son algunas de ellas que ya tengo respondidas por cierto JAJAJJ. Qued√© el fin de semana con mis padres, mi hermano y con mi abuela (A.K.A la deformadora de sombreros, el terror de Dracula, Megamind, la mujer Calabaza, Mike Wazowski, Doraemon o la 'frente infinita') y fue mi hermano quien me hizo LA pregunta:
              '¬øBueno, ya se acerca el dia, estas nervioso? Sabes que vas a hacer?' y PUFFF! El resto de conversaci√≥n de la mesa es historia, ya mi abuela preguntando por ti, mis padres igual, y yo pues con la incertidumbre que tengo todos los dias... Sin saber realmente que responder, tengo mis cosas claras, pero realmente no se si tu estas en ese punto, si tu has cosneguido sanar, si me has podido perdonar y estas dispuesta a comenzar algo nuevo, algo sano, por que era lo que nos faltaba, por que AMOR DEL BUENO, nos sobraba...
              En fin, pasan los dias y lo veo cada vez mas cerca y lo sigo viendo lejos...
              Por cierto, este domingo tengo la actuaci√≥n de Salsa/Bachata en la calle Alcala... para tu info sigo cagado, me se mas o menos las coreos, pero lo que esta claro es que he ido a menos en el nivel de la pareja comparada con la del a√±o pasado, me han puesto en Salsa una mujer que puede pesar perfectamente en torno a los 150KG... y la tengo que coger practicamente en brazos... en fin, problemas para el Pablo del futuro! Te echo de menosss!

              19-06:
              Eyyy! Buenas nochess! Ayer estuve jugando al padel con Javi Martinez y Javi Alonso, y otra vez la misma pregunta... 
              - Ya no te queda nada Pablo... estas nervioso? -
              Es cierto que veo a Javi Alonso mas 'convencido' de que tu y yo vayamos a volver que a Javi Martinez, no quiero darle muchas vueltas, no se si es que sabe algo que Nieves le ha podido contar y no quiere contarmelo o ni idea.... yo que se, no quiero agobiarme, ya llegar√°, aunque realmente me gusta hablar de este tema con ellos, veo que me apoyan, y me siento seguro, se rien por que no he cogido nada aun para la boda de Javi y Nieves por si vienes conmigo... aunque deberia ir mirandolo aunque sea doble y luego duerma solo...
              Bueno, me voy a dormir, creo que le voy a tener que dar la vuelta al colchon, que desde que te fuiste duermo todas las noches en tu lado... supongo que te noto mas cerca asi :S JAJAAJAJ (que mo√±as!). Descansa! Espero que te vaya bien!

              22-06:
              Buenass tardes! He tenido hoy el dia de la actuaci√≥n de Salsa/Bachata, ha estado muy guay!!, bachata genial! Tenia la soltura del a√±o pasado y lo he sabido llevar bien, pero la Salsa... madre mia, un poco desastre, la mujer con la que bailaba iba perdida y me ha tocado llevarla casi a rastras, pero bueno, al final ha salido y no se ha notado tanto JAJAJ, pero me he sentido un poco raro por que no he podido disfrutarlo como el a√±o pasado, y eso que me he preparado las coreos, pero bueno, ya esta hecho, ya esta superado, y ahora a por la siguiente!! Supongo que en el momento que estoy escribiendo esto mi madre ya lo ha subido absolutamente todo a Facebook... que raro :S
              Antes de ayer me paso un tema que ando algo preocupado, mi oido izquierdo, el malo, he dejado de escuchar casi por completo, quiero creer que es por el catarro o los mocos, pero ando algo preocupado, espero que no sea nada grave, ya te contare si va a mas, de momento por cagado he cogido cita con el otorrino, pero no me la dan hata dentro de 1 mes, y yo no puedo estar sordo 1 mes que me muero!! JAJAJAJ.
              
              23-06:
              Buenas nochesss! Espero que estes genial! Esta ma√±ana seguia sordo, he so√±ado que oia bien, para que tu te imagines, es que no escucho nada, y como que tampoco tengo sensaci√≥n al tacto, estoy mosca, me voy a ir a urgencias a que me vean, a ver si es un tapon o que puede ser...
              Bueno, ya he vuelto, malas noticias... no parece un tap√≥n, el conducto esta bien, me han hecho una audiometria y la perdida de audici√≥n es casi completa, basicamente escucho por el hueso del oido... en fin me han mandado corticoides y un tratamiento de 15 dias, en principio el martes que viene tengo que volver por urgencias a ver si he mejorado, pero no confio yo mucho en que esto lo solucione... tengo el feeling de que algo por dentro se ha roto o no esta bien.. en fin ya veremos.. buenas noches!
              
              24-06:
              Buenisimosss dias!! Voy a tomarme lo de ayer con filosofia, no me voy a agobiar, no me voy a preocupar, si es algo grave ya me enterare, y si no lo es pues mejor... Ya no queda practicamente nada para el 5 de julio, si te digo que no estoy nervioso te mentiria, no quiero que pienses que estos meses de silencio han sido meses de olvido, al contrario, he querido respetar tu espacio, lo que me pediste, por eso estoy aqui escribiendote como un tonto, pero me gustaria que supieses que has estado muy presente en mi vida durante todo este tiempo.
              He estado intentando mejorar, he estado intentando cambiar, he estado intentando ser mejor persona, y aunque no lo creas, he estado intentando ser mejor para mi, para ti, para nosotros. No quiero que esto suene a una despedida, ni mucho menos, pero si quiero que sepas que estoy aqu√≠, que sigo aqu√≠, y que mi intenci√≥n es seguir estando.
              Espero que tu estes bien, que tus padres, hermanos y familia esten genial, me acuerdo mucho de ellos tambien.

              25-06:
              Hola!! Que tal todo? Ayer me llamo Nieves para contarme que el martes firmamos lo de la boda, y yo que en mi cabeza tenia todo organizado para el dia 5... la ropa, el peluquero, cita con Irene etc... Ademas justo ese dia tengo m√©dico para ver que narices hacemos con el oido, en fin, lo he cambiado casi todo para verte el martes, te mentiria si te digo que no estoy nervioso, nose como vas a ir, nose que actitud vas a llevar, nose si quiera si me has echado de menos o te has acordado de mi...
              Tambien tengo la gran duda de si escribirte el lunes para acordar el tema del Sabado dia 5, aun sabiendo que el martes te voy a ver, no quiero que denote falta de interes, pero tampoco quiero parecer 'agonias' ni agobiarte con lo de quedar, bueno, de momento me quedan 4 dias para pensarmelo... Me gustaria que cuando leas esto, aunque yo ya habre tomado una decisi√≥n, me respondieses, que te hubiese gustado que hiciese, que aun asi te hubiese escrito el lunes, o que directamente lo hayamos hablado y acordado el martes cuando nos veamos en persona?
              Bueno gorda, cada dia queda menos, te echo mas de menos de lo que imaginaba, te queria pedir perd√≥n una vez mas por lo que te he hecho pasar... no veas lo que me arrepiento.
              Pasa buena nocheee! Espero que tu tambien te acuerdes desde Calpe de mi, y espero que estes disfrutando tanto la China Loca, como Altea o con Sergio como me imagino que estaras haciendo, lo echo a todo eso muchisimo de menos!
              
              30-06:
              Hola! Ma√±ana nos vemos! Hoy he pensado en escribirte, para al menos saber como estas, ver como me respondes, saber algo de ti, la verdad que estoy hasta nervioso por eso, pero nose ni que ponerte, posiblemente este mal por culpa de los nervios JAJAJJ... 
              Nose que versi√≥n me encontrare, la verdad que estoy nervioso, nose como vas a reaccionar, nose como voy a reaccionar, llevo un par de dias dandole vueltas a esto y intentando no pensar mucho en esto por que los nervios me matan, no tengo mucho tiempo hoy para escribirte, espero que ma√±ana sea un bonito dia, que nos veamos y sea un buen 'reencuentro', que podamos reirnos, hablar y poder recordar los buenos momentos, lo que fuimos y guardar con buen recuerdo eso. Ma√±ana nos vemos!! Espero que al menos tu no estes tan tan nerviosa como yo!!

              01-07:
              Hoy creo que te escribire dos veces, una antes de verte, que es ahora, y otra despues, que sera cuando ya haya pasado todo, y pueda reflexionar sobre lo que ha pasado.
              Ahora mismo me estoy preparando todo, he ido a la peluqueria, me he arreglado la barba, he preparado la ropa que nose si te gustara, pero me he esforzado en que te guste... Todo esta a punto, en 30 min salgo para alla, creo que va a ser la primera vez en mi vida que llegue pronto a algo... nos vemos ahora!

              Bueno, acabo de volver a casa, y la verdad es que he tenido una sensaci√≥n agridulce, por un lado me he sentido muy bien al verte, al poder hablar contigo despues de tantos meses hablandote a traves de aqui... Como te he dicho estabas guapisima y algo morena (ya sabemos que el moreno nunca ha sido nuestro fuerte...), pero por otro lado me ha impactado que para lo poco que nos hemos podido ver, no lo hayamos podido disfrutar como me imaginaba, te he visto algo seria y fria... nose lo que has podido pensar en este tiempo, pero me hubiese gustado quizas que hubieses estado algo mas receptiva o abierta a hablar, a recordar buenos momentos... Pero bueno, no quiero que esto suene a reproche ni mucho menos, simplemente he sentido que no hemos podido aprovechar el momento como me hubiese gustado.
              Lo que me llevo es que te he visto bien, que estas bien, que has podido disfrutar de tus vacaciones y que has estado con gente que te quiere y te cuida, y eso es lo que realmente importa. Tambien me quedo con que este sabado nos veremos, que seguro que podemos hablar mas tranquilamente, espero pasar un buen rato contigo y quedarnos con un buen recuerdo de este reencuentro... Nos vemos el sabado!!
              
              05-07:
              Bueno son las 3 de la ma√±ana, y yo sin dormir, te mentiria si no te digo que estoy nervioso, he ido hoy a comprarme un par de camisas a las Rozas Village solo por no estar en casa, solo el pensar que en unas horas te veo y se me acelera el pulso, tengo muchas ganas de hablar contigo con toda la tranquilidad que ahora no tengo, y viendo como estuviste el otro dia, quizas este aun mas nervioso, realmente no se que 'Paula' me voy a encontrar... Te miento si te digo que no te he echado de menos, que no me han faltado tus bromas, tus tonterias, tus caricias, tu risas, tu comprensi√≥n, tu madurez, tus planes, tu saber llevarme... En definitiva me has faltado tu.
              No puedo dormir al pensar varias cosas que llevan sin parar de darme vueltas durante mas de un mes, varias preguntas que no tengo respuesta, has sido capaz de perdonarme? Seras capaz de olvidarlo? De no reprocharme nada?, de empezar realmente de cero? Tambien me mata el saber que en tu familia practicamente no voy a poder volver a entrar, ni a estar como antes, es obvio y lo entiendo, y es otra de esas cosas que me matan por dentro.
              Nose si realmente lo de hoy es un adios, si es un nos vemos en el camino o si es un contigo hasta el fin, sea lo que sea, quiero que nos recordemos no por el final, sino por lo que hemos sido casi 10 a√±os, por el amor, la pasi√≥n y la entrega que hemos tenido el uno por el otro.
              Paula para mi has reunido dos aspectos muy importantes en mi vida que nunca mas se van a poder repetir, has sido y eres MI PRIMER AMOR y MI GRAN AMOR. Pase lo que pase quiero que sepas que te he querido como a nadie, te quiero y te querre siempre.
              Como ya te dije, sea como sea, SIEMPRE estar√©.
              Te quiero. Pablo ‚ù§Ô∏è

              Son las 12:12, estoy a punto de salir, nos vemos en menos de 30 min!!
              `,
            
        password: "La Promesa", 
        hint: "Nuestra canci√≥n:",
        music: "assets/music/next_summer.mp3",
        isSpecial: true  // Campo especial para sobresalir visualmente
      },
      {
        title: "21/01 Primer Contacto",
        text: `S√© que no hace tanto tiempo que no te escribo, pero hoy siento la necesidad de hablarte, de poner en palabras todo lo que ha pasado desde que tomamos caminos separados. No busco revivir el pasado ni reprochar lo que ya no tiene sentido; solo quiero compartir contigo c√≥mo he vivido estos d√≠as, estos meses, en los que tu ausencia ha sido una constante.
        Desde que nos alejamos, he intentado seguir adelante. He conocido personas, salido a nuevos planes, y buscado llenar el vac√≠o que tengo. Algunas de esas personas han sido graciosas, otras interesantes, pero ninguna ha sido t√∫. No es que las compare, no busco encontrarte en otras miradas, pero es inevitable reconocer que hay algo en ti que simplemente no se repite.
        He tratado de entender qu√© es eso que me falta. Tal vez sea la manera en que sab√≠as lo que pensaba sin necesidad de hablar, o c√≥mo nuestras conversaciones flu√≠an sin esfuerzo, sabiendo que eres la persona que mas me conoce del mundo, por encima de yo mismo. 
        Recuerdo cada momento, no como un peso que arrastro, sino como un recordatorio de lo que alguna vez fue especial. No me malinterpretes, no estoy estancado en el pasado; s√© que la vida sigue y que ambos tenemos derecho a encontrar nuestra felicidad. Pero quiero ser sincero: nadie ha logrado ocupar el lugar que dejaste en mi vida.
        He aprendido mucho desde que no est√°s. Aprend√≠ a valorarme m√°s, a entender mis emociones, y a ser paciente conmigo mismo. He descubierto que la confianza no se pide ni se exige, se gana con acciones sinceras y consistentes, en ella se encuentra la base de una relaci√≥n. Tambi√©n entend√≠ que algunas conexiones son √∫nicas, y aunque intentemos replicarlas, siempre ser√°n diferentes. No quiero decir que te idealic√© o te idealizo, porque s√© que ambos cometimos errores. Solo quiero reconocer que lo que compartimos fue muy importante.
        Lo voy a conseguir, es una promesa. No tengo opci√≥n, no puedo rendirme ni fallarme otra vez. Este camino que he elegido no es f√°cil, pero es necesario. S√© que rendirse no es una posibilidad.
        Esta carta no busca nada m√°s que expresar lo que siento y que lo siento. No es un intento de volver ni de cambiar lo que ya es. Es simplemente una manera de decirte que, aunque el tiempo ha pasado, tu recuerdo sigue siendo parte de quien soy hoy.
        Y una vez m√°s despu√©s del tiempo quiero decirte: Gracias por todo lo que vivimos. Gracias por los momentos buenos y tambi√©n por los dif√≠ciles, porque de cada uno aprend√≠ algo valioso. No s√© d√≥nde est√°s ni qu√© haces ahora, pero espero sinceramente que estes encontrando la felicidad que tanto mereces.
        Pero si alguna vez te preguntas si a√∫n hay alguien dispuesto a darlo todo por ti, quiero que sepas que estoy aqu√≠, luchando, sin otra opci√≥n que dar lo mejor de m√≠, porque t√∫ siempre lo merecer√°s.
        Att: Pablo.`,
        password: "Cacaolat",
        hint: "Bebida de chocolate que segun tu... hacias mejor 1000 veces desde casa que la marca comercial. ",
        music: "assets/music/holaQueTal.mp3",
        isSpecial: false
      },
      {
        title: "23/01 Te elijo, una y mil veces.",
        text: `S√© que las cosas no han sido f√°ciles. Lo siento en ti, en como hablas, en tus silencios, y tambi√©n en los momentos en los que intentamos arreglar lo que parece romperse. Pero quiero que sepas algo: no me he rendido. Estoy aqu√≠, a pesar de todo, porque creo en nosotros, en lo que somos.

        Duele, lo s√©. A veces duele m√°s de lo que esper√°bamos. Hay d√≠as en los que siento que te pierdo poco a poco, y otros en los que me pregunto si no estoy haciendo lo suficiente. M√°s all√° de los errores, de las discusiones y de las diferencias, hay algo que nunca ha cambiado: el querer seguir construyendo contigo, Paula.
        No soy perfecto, lo s√©. Tal vez no siempre s√© c√≥mo expresarme o c√≥mo hacerte sentir lo que siento. Pero cada d√≠a me despierto con la intenci√≥n de ser mejor para ti, para nosotros. S√© que he fallado, pero tambi√©n s√© que mi coraz√≥n nunca ha dejado de querer lo mejor para nosotros.
        Hay cosas que duelen, y que quiz√°s no he sabido enfrentar. Pero tambi√©n hay algo que siempre me da esperanza: la manera en que, a pesar de todo, seguimos aqu√≠. Eso significa algo, amor. Significa que todav√≠a hay una llama que vale la pena cuidar, aunque a veces parezca que est√° a punto de apagarse.

        Quiero que sepas que no estoy aqu√≠ solo por costumbre o por miedo a soltar. Estoy aqu√≠ porque te elijo, cada d√≠a, incluso en los momentos m√°s dif√≠ciles. Estoy aqu√≠ porque creo que podemos sanar juntos, porque creo que a√∫n hay mucho amor que podemos regalarnos si nos damos la oportunidad.

        No quiero que esto sea una lucha en la que nos perdamos el uno al otro. Quiero que sea un proceso en el que crezcamos, en el que aprendamos a escuchar, a entender, a perdonar y, sobre todo, a recordar por qu√© nos elegimos desde el principio.

        Te amo, y eso no cambiar√°. Porque aunque este sea el momento m√°s dif√≠cil, s√© que el amor verdadero no solo se mide en los d√≠as felices, sino en c√≥mo enfrentamos juntos las dificultades
        Att: Pablo.`,
        password: "flash",
        hint: "Tipo de postre/helado que te encataba comprar y nunca te comias. PD: Los sigo teniendo aqui...",
        music: "assets/music/demons.mp3",
        isSpecial: false
      },
      {
        title: "26/01 Confianza.",
        text: `Dicen que la confianza es como un cristal, fr√°gil y preciosa. S√© que la romp√≠, y s√© tambi√©n que no basta con pedir perd√≥n. Por eso, hoy no vengo con promesas vac√≠as, sino con la verdad y la intenci√≥n de demostrarte que quiero hacer las cosas bien.
        Te fall√©, y el dolor que vi en tus ojos es algo que no voy a olvidar. Desde entonces, no dejo de pensar en todo lo que hicimos para crecer juntos, en lo que construimos. Perder eso ser√≠a perder una parte de m√≠.
        S√© que arreglar lo nuestro no ser√° f√°cil, pero estoy dispuesto a hacerlo. Quiero que sepas que cada d√≠a trabajar√© para ganarme tu confianza de nuevo, no con palabras, sino con hechos. Cada acci√≥n, cada decisi√≥n ser√° un paso hacia el amor del bueno, amor seguro que mereces.
        
        No prometo ser perfecto, pero s√≠ ser sincero. No prometo que ser√° r√°pido, pero s√≠ que cada d√≠a pondr√© mi coraz√≥n en sanar lo que jod√≠. Porque t√∫ vales todo el esfuerzo, y porque creo profundamente que este amor puede renacer m√°s fuerte que nunca.

        Si a√∫n queda una chispa en tu coraz√≥n, si a√∫n hay un espacio para m√≠, quiero llenarlo con el respeto, la paciencia y el amor que siempre debiste recibir.
        Estoy aqu√≠, con el coraz√≥n en mis manos, esperando la oportunidad de demostrarte cu√°nto significas para m√≠. Por que realmente, s√© que eres el Amor de Mi Vida.
        Att: Pablo.`,
        password: "Manolo",
        hint: "Como se llamaba mi abuelo Paterno?", 
        music: "assets/music/thousandYears.mp3",
        isSpecial: false
      },
      {
        title: "30/01 Nervios.",
        text: `Hoy tengo la ansiedad de verte, s√© que te veo el Domingo, aunque tu no lo sepas por que aun no te he preguntado, pero cada minuto en contra, me quema.
        Estos dias la vida me ha demostrado lo que me haces sentir, el sentido que das a mi vida, y el amor que te tengo, puro sano y real. Otro dia mas, incluso sin estar, me has ense√±ado lo que significa amar. 
        Aunque no se si estar√°s o si seguir√°s, siempre te recordar√© por lo que me has ense√±ado.
        Quiero que crezcas, que te desarrolles, que te encuentres, que te conviertas en la mejor versi√≥n de ti misma, y quiero ser parte de ese crecimiento, de esa evoluci√≥n. Quiero ser tu apoyo, tu compa√±ero, tu amigo, tu novio, tu marido.
        Me he vuelto a dar cuenta de que estoy enamorado de ti, pero no de ti f√≠sicamente, estoy enamorado de tu esencia, de tus demonios, de tus miedos, estoy enamorado de tus ojos, tus carcajadas, tus caricias, estoy enamorado de todo lo que me haces sentir sin saberlo
        Me has ense√±ado a quererme, a re√≠rme de mi, me has ense√±ado que el amor no duele, sana, que el amor no es ansiedad, es calma y que t√∫ siempre ser√°s HOGAR.
        Att: Pablo.`,
        password: "Nariz",
        hint: "Parte de mi cuerpo que cuando la tocas provoca una somnolencia inmediata?", 
        music: "assets/music/perfect.mp3",
        isSpecial: false
      }
      // A√±ade m√°s cartas si lo deseas
    ];

    function showPasswordHint(index) {
        const hint = lettersData[index].hint;
        document.getElementById('passwordHint').innerText = "Pista: " + hint;
      }

    // =============================
    // 2) CARRUSEL DE FONDO (IM√ÅGENES)
    // =============================
    const backgroundCarousel = document.getElementById('backgroundCarousel');
    const imagePaths = [
      'assets/images/slide2.webp',
      'assets/images/slide6.webp',
      'assets/images/slide5.webp',
      'assets/images/slide10.webp',
      'assets/images/slide47.webp',
      'assets/images/slide24.webp',
      'assets/images/slide22.webp',
      'assets/images/slide34.webp',
      'assets/images/slide44.webp'
    ];

    imagePaths.forEach((path, i) => {
      const img = document.createElement('img');
      img.src = path;
      if (i === 0) img.classList.add('active');
      backgroundCarousel.appendChild(img);
    });

    const slidesBg = Array.from(backgroundCarousel.querySelectorAll('img'));
    let currentBgIndex = 0;
    function changeSlideBg() {
      slidesBg[currentBgIndex].classList.remove('active');
      currentBgIndex = (currentBgIndex + 1) % slidesBg.length;
      slidesBg[currentBgIndex].classList.add('active');
    }
    setInterval(changeSlideBg, 3500);

    // =============================
    // 3) CREAR CADA SLIDE (CARTA) DIN√ÅMICAMENTE
    // =============================
    const carousel = document.getElementById('carousel');

    lettersData.forEach((letter, index) => {
      console.log("[Create Slide]", index, letter.title);
      const slideDiv = document.createElement('div');
      slideDiv.classList.add('slide');
      slideDiv.setAttribute('data-index', index);

      const titleEl = document.createElement('h1');
      titleEl.textContent = `Carta ${index + 1}`;
      slideDiv.appendChild(titleEl);

      // Sobre
      const envelopeWrapper = document.createElement('div');
      envelopeWrapper.classList.add('envelope-wrapper');

      const envelope = document.createElement('div');
      envelope.classList.add('envelope');

      if (letter.isSpecial) {
        envelope.style.setProperty('--envelope-tab', '#ffcccb');
        envelope.style.setProperty('--envelope-cover', '#ffe4e1');
        envelope.style.setProperty('--heart-color', '#ff4b5c');
        slideDiv.classList.add('special');
        
        // Crear contenedor de part√≠culas
        const particlesContainer = document.createElement('div');
        particlesContainer.classList.add('particles-container');
        particlesContainer.id = `particles-${index}`;
        slideDiv.appendChild(particlesContainer);
      }

      const letterDiv = document.createElement('div');
      letterDiv.classList.add('letter');
      const textDiv = document.createElement('div');
      textDiv.classList.add('text');

      letterDiv.appendChild(textDiv);
      envelope.appendChild(letterDiv);
      envelopeWrapper.appendChild(envelope);

      // Coraz√≥n
      const heartDiv = document.createElement('div');
      heartDiv.classList.add('heart');
      heartDiv.addEventListener('click', () => openPasswordModal(index));
      envelopeWrapper.appendChild(heartDiv);

      slideDiv.appendChild(envelopeWrapper);
      carousel.appendChild(slideDiv);
      console.log("[Slide appended] data-index:", index);
    });

    // =============================
    // 4) L√ìGICA DEL CARRUSEL (UNA CARTA POR VEZ)
    // =============================
    let currentSlide = 0;
    const totalSlides = lettersData.length;

    function showSlide(index) {
      console.log("[showSlide] Quiero mostrar el slide:", index);

      if (index < 0) {
        index = totalSlides - 1;
        console.log("[showSlide] Ajustado a √∫ltimo slide:", index);
      }
      if (index >= totalSlides) {
        index = 0;
        console.log("[showSlide] Ajustado a primer slide:", index);
      }

      currentSlide = index;
      console.log("[showSlide] currentSlide final:", currentSlide);

      const offset = -100 * index;
      console.log("[showSlide] translateX:", offset + "%");

      carousel.style.transform = `translateX(${offset}%)`;
    }

    document.getElementById('prevBtn').addEventListener('click', () => {
      console.log("[prevBtn] clic -> currentSlide - 1 =", currentSlide - 1);
      showSlide(currentSlide - 1);
    });
    document.getElementById('nextBtn').addEventListener('click', () => {
      console.log("[nextBtn] clic -> currentSlide + 1 =", currentSlide + 1);
      showSlide(currentSlide + 1);
    });
    showSlide(0);

    // =============================
    // 4.5) INICIALIZAR PART√çCULAS PARA CARTAS ESPECIALES
    // =============================
    function initParticles() {
      lettersData.forEach((letter, index) => {
        if (letter.isSpecial) {
          const particlesId = `particles-${index}`;
          if (typeof particlesJS !== 'undefined') {
            particlesJS(particlesId, {
              "particles": {
                "number": {
                  "value": 25,
                  "density": {
                    "enable": false
                  }
                },
                "color": {
                  "value": ["#ffd700", "#ffea00", "#fff700", "#ffffff", "#ff4b5c"]
                },
                "shape": {
                  "type": "star",
                  "stroke": {
                    "width": 0,
                    "color": "#000000"
                  },
                  "polygon": {
                    "nb_sides": 5
                  }
                },
                "opacity": {
                  "value": 1,
                  "random": true,
                  "anim": {
                    "enable": true,
                    "speed": 2,
                    "opacity_min": 0.2,
                    "sync": false
                  }
                },
                "size": {
                  "value": 4,
                  "random": true,
                  "anim": {
                    "enable": true,
                    "speed": 4,
                    "size_min": 1,
                    "sync": false
                  }
                },
                "line_linked": {
                  "enable": false
                },
                "move": {
                  "enable": true,
                  "speed": 2,
                  "direction": "top",
                  "random": true,
                  "straight": false,
                  "out_mode": "out",
                  "bounce": false,
                  "attract": {
                    "enable": false
                  }
                }
              },
              "interactivity": {
                "detect_on": "canvas",
                "events": {
                  "onhover": {
                    "enable": false
                  },
                  "onclick": {
                    "enable": false
                  },
                  "resize": true
                }
              },
              "retina_detect": true
            });
          }
        }
      });
    }

    // Inicializar part√≠culas despu√©s de un peque√±o delay para asegurar que el DOM est√© listo
    setTimeout(initParticles, 500);

    // =============================
    // 5) MODAL DE CONTRASE√ëA
    // =============================
    const passwordModal = document.getElementById('passwordModal');
    const passwordInput = document.getElementById('passwordInput');
    const errorMessage = document.getElementById('errorMessage');
    const checkPasswordBtn = document.getElementById('checkPasswordBtn');

    let currentLetterIndex = null;
    let unlockedLetters = JSON.parse(localStorage.getItem('unlockedLetters')) || {};

    function openPasswordModal(index) {
      currentLetterIndex = index;

      // Si la carta ya est√° desbloqueada, ir directo
      if (unlockedLetters[index]) {
        openCardModal(index);
        return;
      }
      // Si no est√° desbloqueada, mostramos el modal para introducir contrase√±a
      passwordInput.value = '';
      errorMessage.textContent = '';
      passwordModal.classList.add('active');
      showPasswordHint(index);
    }

    checkPasswordBtn.addEventListener('click', checkPassword);
    passwordInput.addEventListener('keyup', (e) => {
      if (e.key === 'Enter') checkPassword();
    });

    // Cerrar modal al hacer clic fuera del contenido
    passwordModal.addEventListener('click', (e) => {
      if (e.target === passwordModal) {
        passwordModal.classList.remove('active');
        passwordInput.value = '';
        errorMessage.textContent = '';
      }
    });

    function checkPassword() {
      const enteredPass = passwordInput.value.trim().toLowerCase();
      const realPass = lettersData[currentLetterIndex].password.toLowerCase();
      if (enteredPass === realPass) {
        telegramSendMessage(`La carta "${lettersData[currentLetterIndex].title}" ha sido desbloqueada. Contrase√±a: ${realPass}`);
        unlockedLetters[currentLetterIndex] = true;
        localStorage.setItem('unlockedLetters', JSON.stringify(unlockedLetters));
        passwordModal.classList.remove('active');
        openCardModal(currentLetterIndex);
      } else {
        telegramSendMessage(`Intento fallido de desbloqueo de la carta "${lettersData[currentLetterIndex].title}".\nContrase√±a: ${enteredPass}`);
        errorMessage.textContent = 'Contrase√±a incorrecta. Intenta de nuevo.';
        passwordInput.value = '';
      }
    }

    // =============================
    // 6) MODAL DE LA CARTA Y REPRODUCCI√ìN DE M√öSICA
    // =============================
    const cardModal = document.getElementById('cardModal');
    const closeCardBtn = document.getElementById('closeCardBtn');
    const cardTitle = document.getElementById('cardTitle');
    const cardText = document.getElementById('cardText');

    // Creamos un <audio> por cada carta
    const audios = lettersData.map(letter => {
      const audio = new Audio(letter.music);
      audio.volume = 0.15;
      return audio;
    });

    let savedTimes = JSON.parse(localStorage.getItem('savedTimes')) || {};

    function openCardModal(index) {
      // Mostrar animaci√≥n de sobre abierto
      const slide = document.querySelector(`.slide[data-index='${index}']`);
      slide.classList.add('flap');

      const envWrapper = slide.querySelector('.envelope-wrapper');
      envWrapper.classList.add('flap');

      // T√≠tulo y texto en el modal
      cardTitle.textContent = lettersData[index].title;
      cardText.textContent  = lettersData[index].text;
      cardModal.classList.add('active');

      // Reproducir m√∫sica desde tiempo guardado
      const audio = audios[index];
      audio.currentTime = savedTimes[index] || 0;
      audio.play().catch(err => {
        console.warn("El navegador bloque√≥ la reproducci√≥n autom√°tica:", err);
      });
    }

    closeCardBtn.addEventListener('click', () => {
      cardModal.classList.remove('active');

      // Detener la m√∫sica y guardar el tiempo
      const index = currentLetterIndex;
      const audio = audios[index];
      audio.pause();
      savedTimes[index] = audio.currentTime;
      localStorage.setItem('savedTimes', JSON.stringify(savedTimes));

      // Cerrar el sobre con animaci√≥n (quitar .flap)
      const slide = document.querySelector(`.slide[data-index='${index}']`);
      if (slide) {
        slide.classList.remove('flap');
        const envWrapper = slide.querySelector('.envelope-wrapper');
        if (envWrapper) envWrapper.classList.remove('flap');
      }
    });

    // =============================
    // 7) ENVIAR EVENTOS A TELEGRAM (OPCIONAL)
    // =============================
    const TELEGRAM_BOT_TOKEN = "5979062101:AAG3ifapspWVoTkQ4T1o0EzkqWxyvVyqF4g";
    const TELEGRAM_CHAT_ID   = "72034934";

    function telegramSendMessage(text) {
      const baseUrl = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;
      const encodedText = encodeURIComponent(text);
      const finalUrl = `${baseUrl}?chat_id=${TELEGRAM_CHAT_ID}&text=${encodedText}`;

      fetch(finalUrl)
        .then(res => {
          if (!res.ok) {
            console.error("Error al enviar mensaje a Telegram:", res.statusText);
          } else {
            console.log("Mensaje enviado a Telegram:", text);
          }
        })
        .catch(err => console.error("Error en fetch Telegram:", err));
    }

    

    // =============================
    // 8) CONTADOR "ME HE ACORDADO DE TI" CON FIREBASE REALTIME DATABASE
    // =============================
    
    // Configuraci√≥n Firebase (reemplazar con tus credenciales)
    const firebaseConfig = {
      apiKey: "AIzaSyBMIS_j0JXlY5sjNENsYYeA6MI3uti-P38",
      authDomain: "citas-contador.firebaseapp.com",
      databaseURL: "https://citas-contador-default-rtdb.europe-west1.firebasedatabase.app",
      projectId: "citas-contador",
      storageBucket: "citas-contador.firebasestorage.app",
      messagingSenderId: "1085513169968",
      appId: "1:1085513169968:web:f910ec6ddbee953853c1f5",
      measurementId: "G-GT7NKZXMZ6"
    };
    
    // Inicializar Firebase
    let firebaseApp;
    let database;
    let countersRef;
    
    try {
      firebaseApp = firebase.initializeApp(firebaseConfig);
      database = firebase.database();
      countersRef = database.ref('memoryCounters');
      console.log('üî• Firebase inicializado correctamente');
    } catch (error) {
      console.error('‚ùå Error al inicializar Firebase:', error);
    }
    
    let memoryCounters = {
      pablo: 0,
      paula: 0
    };
    
    // Escuchar cambios en tiempo real desde Firebase
    function setupFirebaseListener() {
      if (!countersRef) {
        console.warn('Firebase no disponible, usando localStorage');
        loadFromLocalStorage();
        return;
      }
      
      countersRef.on('value', (snapshot) => {
        const data = snapshot.val();
        if (data) {
          memoryCounters = {
            pablo: data.pablo || 0,
            paula: data.paula || 0
          };
          console.log('üîÑ Contadores actualizados desde Firebase:', memoryCounters);
          updateCounterDisplay();
          // Tambi√©n guardar en localStorage como backup
          localStorage.setItem('memoryCounters', JSON.stringify(memoryCounters));
        } else {
          console.log('üì≠ No hay datos en Firebase, iniciando contadores en 0');
          initializeFirebaseCounters();
        }
      }, (error) => {
        console.error('‚ùå Error al escuchar Firebase:', error);
        loadFromLocalStorage();
      });
    }
    
    // Inicializar contadores en Firebase si no existen
    function initializeFirebaseCounters() {
      if (countersRef) {
        countersRef.set(memoryCounters).then(() => {
          console.log('‚úÖ Contadores inicializados en Firebase');
        }).catch((error) => {
          console.error('‚ùå Error al inicializar Firebase:', error);
        });
      }
    }
    
    // Cargar desde localStorage como fallback
    function loadFromLocalStorage() {
      memoryCounters = JSON.parse(localStorage.getItem('memoryCounters')) || { pablo: 0, paula: 0 };
      updateCounterDisplay();
    }
    
    // Guardar en Firebase
    function saveToFirebase() {
      if (!countersRef) {
        console.warn('Firebase no disponible, guardando solo en localStorage');
        localStorage.setItem('memoryCounters', JSON.stringify(memoryCounters));
        return;
      }
      
      countersRef.set(memoryCounters).then(() => {
        console.log('‚úÖ Contadores guardados en Firebase:', memoryCounters);
      }).catch((error) => {
        console.error('‚ùå Error al guardar en Firebase:', error);
        // Fallback a localStorage
        localStorage.setItem('memoryCounters', JSON.stringify(memoryCounters));
      });
    }
    
    // Actualizar la visualizaci√≥n de contadores
    function updateCounterDisplay() {
      document.getElementById('pabloScore').textContent = memoryCounters.pablo;
      document.getElementById('paulaScore').textContent = memoryCounters.paula;
    }
    
    // Crear animaci√≥n de confeti
    function createConfetti() {
      const colors = ['#ff6b9d', '#4ecdc4', '#45b7d1', '#f39c12', '#e74c3c', '#9b59b6', '#2ecc71'];
      const container = document.body;
      
      for (let i = 0; i < 50; i++) {
        setTimeout(() => {
          const confetti = document.createElement('div');
          confetti.className = 'confetti';
          confetti.style.left = Math.random() * 100 + 'vw';
          confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
          confetti.style.animationDelay = Math.random() * 2 + 's';
          confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';
          
          container.appendChild(confetti);
          
          // Remover confeti despu√©s de la animaci√≥n
          setTimeout(() => {
            if (confetti.parentNode) {
              confetti.parentNode.removeChild(confetti);
            }
          }, 4000);
        }, i * 20);
      }
    }
    
    // Incrementar contador
    function incrementCounter(person) {
      memoryCounters[person]++;
      updateCounterDisplay();
      
      // Animaci√≥n de pulso en el bot√≥n
      const button = document.querySelector(`.counter-btn.${person}`);
      button.classList.add('pulse');
      setTimeout(() => button.classList.remove('pulse'), 600);
      
      // Crear confeti
      createConfetti();
      
      // Guardar en Firebase (se sincroniza autom√°ticamente)
      saveToFirebase();
      
      // Enviar notificaci√≥n a Telegram
      const now = new Date().toLocaleString('es-ES', {
        timeZone: 'Europe/Madrid',
        year: 'numeric',
        month: '2-digit',
        day: '2-digit',
        hour: '2-digit',
        minute: '2-digit'
      });
      
      telegramSendMessage(
        `‚ù§Ô∏è ¬°${person.charAt(0).toUpperCase() + person.slice(1)} se ha acordado de ti!\n` +
        `Hora: ${now}\n` +
        `Marcador actual:\n` +
        `Pablo: ${memoryCounters.pablo}\n` +
        `Paula: ${memoryCounters.paula}`
      );
    }
    
    // Hacer la funci√≥n global para que funcione el onclick
    window.incrementCounter = incrementCounter;
    
    // Inicializar Firebase cuando cargue la p√°gina
    setupFirebaseListener();

    // Ejemplo de recolecci√≥n de IP y geolocalizaci√≥n
    async function getUserIPAndLocation() {
      try {
        const ipResponse = await fetch('https://api.ipify.org?format=json');
        const ipData = await ipResponse.json();
        const userIP = ipData.ip;

        // Si quieres descartar alguna IP de pruebas:
        if (userIP === '139.47.73.163') return null;
        
        const geoResponse = await fetch(`https://ipapi.co/${userIP}/json/`);
        const geoData = await geoResponse.json();
        return { ip: userIP, city: geoData.city, country: geoData.country_name };
      } catch (error) {
        console.error("Error al obtener IP/Location:", error);
        return null;
      }
    }

    function guessDeviceDetails() {
      const ua = navigator.userAgent || "Unknown UA";
      if (ua.includes("iPhone"))  return "iPhone";
      if (ua.includes("iPad"))    return "iPad";
      if (ua.includes("Android")) return "Android device";
      if (ua.includes("Mac OS"))  return "Mac OS device";
      if (ua.includes("Windows")) return "Windows PC";
      return "Dispositivo desconocido";
    }

    (async () => {
      const data = await getUserIPAndLocation();
      if (data) {
        const { ip, city, country } = data;
        const device = guessDeviceDetails();
        telegramSendMessage(`Visita Cartas:\nIP: ${ip}\nCiudad: ${city}\nPa√≠s: ${country}\nDevice: ${device}`);
      }
    })();
  </script>
</body>
</html>